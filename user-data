hostname: picluster1
fqdn: picluster1.int.almostauto.com
prefer_fqdn_over_hostname: true

groups:
- ansible

users:
- name: admin
  groups: users,adm,dialout,audio,netdev,video,plugdev,cdrom,games,input,gpio,spi,i2c,render,sudo
  shell: /bin/bash
  lock_passwd: true
  passwd: $5$0wl6IiiG1d$g9bpWxMEeVbIAz1/OZeu671p4NCuUVOiDWEpcWJmOZ0
  ssh_authorized_keys:
    - ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIGRaG8l5sJk13x2Hrz98zpHv71NkGo4VZsmsxf6frZ0x ead\6104522@TR-5X039Y2
    - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC9TFnW8MWwgfX9TAaPrUe41q7fXZPeqYXjaxayKP4djqtR3XFirVtEhz40i6CK/orq3X3+c7D7yJttI5y/X7vMThBt5SNi5dzUJ55A1enKrqXw3xj2g14uvBHTcKd8Lk4MX1VXehqEEqs216eC6VXa7QaSE9HdvAk6dyD/o2s0eh3WxHTKB/irThi+dYL3alsjfYyg4HhVwHWVoEIINPE0sETbY65dRMb4Yq89Frh0VV4Y+rr2gPrwZzQ60Bzx7AS/KSpYVjJIF2dN2WIGUnfQnUeNeQrJMikaafEpawdCWImjpk7VCIrxZvbzt1TDCZHBDDe6EiBycEnzODWrfu6rZEzbgKWp7rpF3//msjWxGkzl3P0r36ChXpEOkO3B/1W/XyO++xIYZuEVnYZITiMHzBb/4QZ/akosQuVj7wayxuiEZiVjRFKa0ISIKGxIgRi3JSa+BlqdBn1RkAM6JJSKvU1jZFORBADhwdI7JvKUWm84Ge7iRVj8GJplfiX1/Qt6cE6kyACZS3I6kwg7jzdmhBoJUfvYDNN449mUQ7JRtLu0k92484r81JVme4cti6sqMYDIxBqelsMtPPqMs8Si+51VoKwlMj+pmVEf/uTvNLlDPjvTBuR2kuu6+OrqI417n7H5mTaXyrMPnqgJw83De9/HSbmbk2m7sLePrZ5KLQ== ead\6104522@TR-5X039Y2
  sudo: ALL=(ALL) NOPASSWD:ALL
- name: ansible
  gecos: Ansible User
  shell: /bin/bash
  groups: users,admin,wheel,ansible
  sudo: ALL=(ALL) NOPASSWD:ALL

ssh_pwauth: true

package_update: true
package_upgrade: true
packages:
- git
- python3-pip
- pipx

ansible:
  install_method: pip
  package_name: ansible
  run_user: ansible
  galaxy:
    actions:
    - ["ansible-galaxy", "collection", "install", "community.general"]

  setup_controller:
    repositories:
    - path: /home/ansible/cluster/
      source: git@github.com:mjcaley/picluster.git

write_files:
  - path: /home/ansible/.ssh/id_ed25519
    owner: ansible:ansible
    permissions: 0o600
    defer: true
    encoding: base64
    content: |
      LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFB
      QUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUFNd0FBQUF0emMyZ3RaVwpReU5UVXhP
      UUFBQUNCa1dodkplYkNaTmQ4ZGg2OC9mTTZSNys5VFpCcU9GV2JKck1YK242MmRNUUFBQUtETm82
      RHF6YU9nCjZnQUFBQXR6YzJndFpXUXlOVFV4T1FBQUFDQmtXaHZKZWJDWk5kOGRoNjgvZk02Ujcr
      OVRaQnFPRldiSnJNWCtuNjJkTVEKQUFBRUJLWXR5eDJoclVndzg5M0txRm1qWkgwRktRNTNqVkt5
      VzhESHV4R0c2YnNHUmFHOGw1c0prMTN4Mkhyejk4enBIdgo3MU5rR280VlpzbXN4ZjZmcloweEFB
      QUFGbVZoWkZ3Mk1UQTBOVEl5UUZSU0xUVllNRE01V1RJQkFnTUVCUVlICi0tLS0tRU5EIE9QRU5T
      U0ggUFJJVkFURSBLRVktLS0tLQo=
  - path: /home/ansible/.ssh/id_rsa
    owner: ansible:ansible
    permissions: 0o600
    defer: true
    encoding: base64
    content: |
      LS0tLS1CRUdJTiBPUEVOU1NIIFBSSVZBVEUgS0VZLS0tLS0KYjNCbGJuTnphQzFyWlhrdGRqRUFB
      QUFBQkc1dmJtVUFBQUFFYm05dVpRQUFBQUFBQUFBQkFBQUNGd0FBQUFkemMyZ3RjbgpOaEFBQUFB
      d0VBQVFBQUFnRUF2VXhaMXZERnNJSDEvVXdHajYxSHVOYXUzMTJUM3FtRjQyc1dzaWorSFk2clVk
      MXhZcTFiClJJYytOSXVnaXY2SzZ0MTkvbk93KzhpYmJTT2N2MSs3ekU0UWJlVWpZdVhjMUNlZVFO
      WHB5cTZsOE44WTlvTmVMcndSMDMKQ25mQzVPREY5VlYzb2FoQktyTnRlbmd1bFYydTBHa2hQUjNi
      d0pPbmNnLzZOck5Ib2Qxc1IweWdmNHEwNFl2bldDOTJwYgpJMzJNb09CNFZjQjFsYUJDQ0RUeE5M
      QkUyMk91WFVURytHS3ZQUmE0ZEZWZUdQcTY5b0Q2OEdjME90QWM4ZXdFdnlrcVdGCll5U0JkblRk
      bGlCbEozMEoxSGpYa0t5VElwR21ueEtXc0hRbGlKbzZaTzFRaUs4V2IyODdkVXd3bVJ3UXczdWhJ
      Z2NuQkoKOHpnMXEzN3VxMlJNMjRDbHFlNjZSZC8vNXJJMXNScE01ZHo5SzkrZ29WNlJEcER0d2Y5
      VnYxOGp2dnNTR0diaEZaMkdTRQo0akI4d1cvK0VHZjJwS0xFTGxZKzhHc3Nib2hHWWxZMFJTbXRD
      RWlDaHNTSUVZdHlVbXZnWmFuUVo5VVpBRE9pU1VpcjFOClkyUlRrUVFBNGNIU095YnlsRnB2T0Ju
      dTRrVlkvQmlhWlg0bDlmMExlbkJPcE1nQW1VdHlPcE1JTzQ4M1pvUWFDVkg3MkEKelRlT1BabEVP
      eVViUzd0SlBkdVBPSy9OU1ZabnVITFl1cktqR0F5TVFhbnBiRExUejZqTFBFb3Z1ZFZhQ3NKVEkv
      cVpsUgpILzdrN3pTNVF6NDcwd2JrZHBMcnV2anE2aU9OZTUreCtaazJsOHF6RDU2b0NjUE53M3Zm
      eDBtNW01TnB1N0MzajYyZVNpCjBBQUFkUThHcU5kL0JxalhjQUFBQUhjM05vTFhKellRQUFBZ0VB
      dlV4WjF2REZzSUgxL1V3R2o2MUh1TmF1MzEyVDNxbUYKNDJzV3NpaitIWTZyVWQxeFlxMWJSSWMr
      Tkl1Z2l2Nks2dDE5L25Pdys4aWJiU09jdjErN3pFNFFiZVVqWXVYYzFDZWVRTgpYcHlxNmw4TjhZ
      OW9OZUxyd1IwM0NuZkM1T0RGOVZWM29haEJLck50ZW5ndWxWMnUwR2toUFIzYndKT25jZy82TnJO
      SG9kCjFzUjB5Z2Y0cTA0WXZuV0M5MnBiSTMyTW9PQjRWY0IxbGFCQ0NEVHhOTEJFMjJPdVhVVEcr
      R0t2UFJhNGRGVmVHUHE2OW8KRDY4R2MwT3RBYzhld0V2eWtxV0ZZeVNCZG5UZGxpQmxKMzBKMUhq
      WGtLeVRJcEdtbnhLV3NIUWxpSm82Wk8xUWlLOFdiMgo4N2RVd3dtUndRdzN1aElnY25CSjh6ZzFx
      Mzd1cTJSTTI0Q2xxZTY2UmQvLzVySTFzUnBNNWR6OUs5K2dvVjZSRHBEdHdmCjlWdjE4anZ2c1NH
      R2JoRloyR1NFNGpCOHdXLytFR2YycEtMRUxsWSs4R3NzYm9oR1lsWTBSU210Q0VpQ2hzU0lFWXR5
      VW0KdmdaYW5RWjlVWkFET2lTVWlyMU5ZMlJUa1FRQTRjSFNPeWJ5bEZwdk9CbnU0a1ZZL0JpYVpY
      NGw5ZjBMZW5CT3BNZ0FtVQp0eU9wTUlPNDgzWm9RYUNWSDcyQXpUZU9QWmxFT3lVYlM3dEpQZHVQ
      T0svTlNWWm51SExZdXJLakdBeU1RYW5wYkRMVHo2CmpMUEVvdnVkVmFDc0pUSS9xWmxSSC83azd6
      UzVRejQ3MHdia2RwTHJ1dmpxNmlPTmU1K3grWmsybDhxekQ1Nm9DY1BOdzMKdmZ4MG01bTVOcHU3
      QzNqNjJlU2kwQUFBQURBUUFCQUFBQ0FCRGdoTVlBRTNBSU5qbE9GT3VzWkUrYmZGM1h4djQ4R1A3
      TQpwbXBkODBJSlhVYmdPbUswMkFWRkZZdXp3eTJCUWp0c1lmWlV0RHZPaCtUMEh0NkZGNFpBazRC
      b3hIM2x4b2wzdXNsSENTCkFUOENHSWtuNHYraTZxZitCZEUrR2pjenZ4Si9lem9EZVVQb1dXTm80
      YVpaZ3VONzdBVzU2c1RCcFZVckRZRGcvUXIyWmQKZjVnZm05RVNGbXlzcDIrTm9QQ0tHZ2FoM0xp
      d2Z3dEhEWHdUMUVtQlNiSlJzZE1JOWNCaGRBUTdTVmk5MzdUVWJlVGFYUQpVZi9tMGI3dWkyeFRt
      UjN2K2ZONzVycjc4bUdYSTgyZ2ZVYmZPMERmMGdKci8vSUF3MFNhSmxxR2ZaeFArRFVuZnhXU1Vq
      CmZFQWpVMFpsNDNZSWRiSWVSc21UZ2wxMjVLcGxuOWxxSmkyeVJ1WEJ2V0JEOS9OakNROWVtbGJR
      SXhWN0NnYnBLbHI2S3cKS1hraUZlQnUyZjhSUjRxNGdDcVAxOGpNV1FUOUgrUEJUcG1TK3ljeGd6
      Ry80azZ1THpzTGJXSmU4ajBCYzdUcEczRW81aApnWVRBd3ZHN1kyVU83N0lpWFJoRnBXNkdnQXd2
      SzJ0WW5zVjhuc2dwcndqc3lSVVFRQ2lsQXBVZGRrSkl3eDhveTNiTENaCjBiQkdnVTBFRC8vRlRa
      a0ZGWkdsdlNTZW5kQTV5NDFnWFFsRUVuNXJWUTdheEt2RFdNVjAva0RBbUpaUndKV1EybmgzREQK
      SHJMNXk1dXFKcGFCU2VtUG44ajBJcHovZ01yZTZobGM3cEYyejJRZG1mUVFsWGNJYTBodkZMR1Y0
      cmRGaGQzU00rS1o3UwppM2ZPVXVrWFhMUGMycjI0NzFBQUFCQUZJTmpSRVhNdTBDMGhwczhLbU9V
      YWtDK1NYQUZhL1BDdXh6QkkzSENZVmJockdRCitmdGFkRTlEVUxuTzNaTE5XTmhmK25qMnJTdUdK
      WGVoQ1daZ1BnbEswelE5cHdJVzFjdE1takVLMmhmVmZjcWY2SHdHVkEKZkF6bURxLy9NNDg2TjNu
      Q1hnTG1MYnFvSGc5Y29JRFNpNTlBZkdNdVoxa0RLSUhIelFZdmlxQlBnYVZaMjRqUmV1VHRMcQpK
      UzN4ZWIycCtWeWI2SjRmUTJLKzAwWWZEVkFrdXU2MXc0YVJWdFc3cjk2MVFia0tUYm5WRElMQmJR
      MUlBc2owZWNieU9xCnB3bnVXeUtPVDNpQWd0dURkTFk1L3lwMVQ5Y0tQZmdObllkWkE4QWQ2YnNu
      Tk9MVjhkWnhmNUpqZnZlTlMyaDVyTStMdTgKMmxPcXl0cUtDYS9DN3hFQUFBRUJBUHNZSU1SMzIw
      VzExN3dDWnZWQUQ1UFFRd3QySGpnK0prdnhGeTJySUFpcDBtL0JZRQpLWUZ3cjF6NHJVZTdYZ0ZS
      Sks0amFNNWV3WXhjamhTNjFOZ3M2V2kvZUxOSC9mczlxanB6dU1QZlI2SEtJQWZrNHBCZUNYCjA0
      TFVjUzNQaHZ4dHM0dEZlbmdQd3VBMG0wUnZtVGVzV2ZlcFM1dzN3c3RlVHVZMk1PamFVV2crYTQv
      aFZ3VVlGMXdYOWgKK0V3by9KcU5Nd2h1dDBYbkEwaTM4ejRwYTk3by9TWmhkY2Q0V0ZGVW0rNmhO
      eGtEaVNuVDN3OU1vSXdDYzRXa0dwblhOcgpKY0dlNWZKK1J6MVp3Q0NsN2g3M1hMTzNKeVN2UlVS
      QWlKTnpBTFc3ek9icHRJU1NyNXFRbUdUZE1qRk9nMk05SDZiTkJ6CnBGaHk4N3E0dG1pWnNBQUFF
      QkFNRC9KUEFvdTFHVmlhdk9GOHhmU3VoTlROUCtiUU9kcFN2NGJWNDF5Z2VWZ1BSQ2VnMlgKcnBv
      UEdFRm1NUmY2Q1dXMWFtdytXZFNBWTQ0Zk03NVdSZExsTnhhMk9wSlhYVTVDY0JMbEUraHFyeDdD
      L2dwNnFNcmR0MApIQXdDL1ROUDhxZmVtS3IxNm9aNW4vcDl0b3BRYWZGUGV0UkhtaTFHS3hneEUr
      d21lQ0dCNWo2UFVQakV3SHJNM08rQTEvCmVaT2Ftb0lwRkxHU3d5WE01Y09ZeHZ5U3RhV3E4a29H
      OHE2cUYyNVBYdXFWVmdDbEJUWmxBdG9MSVRnUFlndklIMzNVb0QKZjdOZzIvRVphU3RlQjBxMkdt
      b2VZV3hxYnVnVFN4cEFFTHRVU1JWbnkrbC9XSEFVUittUW44ZDU1VzZEY2p5YWFmRnF3QgorS0JZ
      bE9QK085Y0FBQUFXWldGa1hEWXhNRFExTWpKQVZGSXROVmd3TXpsWk1nRUNBd1FGCi0tLS0tRU5E
      IE9QRU5TU0ggUFJJVkFURSBLRVktLS0tLQo=
